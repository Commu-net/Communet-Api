{
  "version": 3,
  "sources": ["../../../../../../../libs/ErrorMiddlware/src/lib/error-middleware.ts"],
  "sourcesContent": ["import { Request, Response, NextFunction } from 'express';\r\n\r\ninterface ErrorMessage extends Error {\r\n    message : string,\r\n    status? : number\r\n}\r\n\r\nconst errorMiddleware = (err: ErrorMessage, req: Request, res: Response) => {\r\n    const status = err.status || 500;\r\n    const message = err.message || \"Something went Wrong\";\r\n    console.log(\"error middle\")\r\n    console.log(message);\r\n\r\n    return res.status(status).json({\r\n        success: false,\r\n        message: message,\r\n        stack: err.stack\r\n    });\r\n\r\n}\r\n\r\ninterface AuthRequest extends Request {\r\n  user: object;\r\n  \r\n}\r\n\r\nfunction authMiddleWare(req: AuthRequest, res: Response, next: NextFunction) {\r\n  console.log(\"auth middleware\" , req.user)\r\n  if (req.user) {\r\n    next();\r\n  } else {\r\n    return res.status(401).json({\r\n      success: true,\r\n      message: \"unauthorized\"\r\n    });\r\n  }\r\n  \r\n  return; \r\n}\r\nexport {errorMiddleware, authMiddleWare};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,MAAM,kBAAkB,CAAC,KAAmB,KAAc,QAAkB;AACxE,QAAM,SAAS,IAAI,UAAU;AAC7B,QAAM,UAAU,IAAI,WAAW;AAC/B,UAAQ,IAAI,cAAc;AAC1B,UAAQ,IAAI,OAAO;AAEnB,SAAO,IAAI,OAAO,MAAM,EAAE,KAAK;AAAA,IAC3B,SAAS;AAAA,IACT;AAAA,IACA,OAAO,IAAI;AAAA,EACf,CAAC;AAEL;AAOA,SAAS,eAAe,KAAkB,KAAe,MAAoB;AAC3E,UAAQ,IAAI,mBAAoB,IAAI,IAAI;AACxC,MAAI,IAAI,MAAM;AACZ,SAAK;AAAA,EACP,OAAO;AACL,WAAO,IAAI,OAAO,GAAG,EAAE,KAAK;AAAA,MAC1B,SAAS;AAAA,MACT,SAAS;AAAA,IACX,CAAC;AAAA,EACH;AAEA;AACF;",
  "names": []
}
